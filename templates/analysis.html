<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Apple Data Analysis</title>
  <!-- Load a CSS file if desired -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <!-- Load Plotly -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 20px;
    }
    .table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    .table th, .table td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    .table th {
      background-color: #f2f2f2;
    }
    .plot-container {
      margin-bottom: 40px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Comparative Apple Data Analysis</h1>

    {% if analysis_items %}
      {% for item in analysis_items %}
        <h2>{{ item.combo_title }}</h2>
        <!-- Show the latest data table -->
        <div>
          {{ item.table_html|safe }}
        </div>
        <!-- Show the plotly chart -->
        <div class="plot-container">
          {{ item.plot_div|safe }}
        </div>
        <hr>
      {% endfor %}
    {% else %}
      <p>No data found for the specified combos.</p>
    {% endif %}
  </div>
</body>
</html>
